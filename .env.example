# --- DB ---
DATABASE_URL=sqlite:///./data/planner.db

# --- App timezone ---
TZ=Asia/Almaty
# --- App server ---
APP_HOST=127.0.0.1
APP_PORT=8881

# --- API ---
# If set, REST API requires X-API-Key
API_KEY=
# Secret used to hash per-user API keys (required for production)
API_KEY_SECRET=
# Optional Redis for rate limiting (leave blank for in-memory)
REDIS_URL=
# Rate limits
API_RATE_LIMIT_PER_MIN=60
API_RATE_LIMIT_AI_PER_MIN=10
API_RATE_LIMIT_AUTH_PER_MIN_IP=10
API_RATE_WINDOW_SEC=60
# Auth abuse protection
AUTH_FAIL_MAX=10
AUTH_FAIL_WINDOW_SEC=600
AUTH_BLOCK_SEC=600

# --- Reminders ---
REMINDER_LEAD_MIN=10
CALL_FOLLOWUP_DAYS=1
DELAY_GRACE_MIN=10
LOCATION_STALE_MIN=60

# --- AI (optional, for voice transcription) ---
OPENAI_API_KEY=
# Try: gpt-4o-mini-transcribe or gpt-4o-transcribe for better quality (if available).
OPENAI_TRANSCRIBE_MODEL=whisper-1
OPENAI_CHAT_MODEL=gpt-4o-mini
OPENAI_TRANSCRIBE_LANGUAGE=ru
AI_MAX_TEXT_CHARS=2000
AI_MAX_AUDIO_SECONDS=120
AI_MAX_AUDIO_BYTES=6000000
AI_REQUESTS_PER_DAY=50
AI_TRANSCRIBE_MINUTES_PER_DAY=30
AI_ERROR_WINDOW_SEC=300
AI_ERROR_THRESHOLD=5
AI_COOLDOWN_SEC=300
AI_TIMEOUT_SEC=20
AI_RETRY_MAX=1
AI_RETRY_BACKOFF_SEC=0.5

# --- Telegram ---
# Create a bot in @BotFather and paste token here:
TELEGRAM_BOT_TOKEN=
BOT_COOLDOWN_SEC=1.5
BOT_BURST_MAX=3
BOT_BURST_WINDOW_SEC=6
BOT_HEAVY_COOLDOWN_SEC=8
BOT_DEDUPE_WINDOW_SEC=8
